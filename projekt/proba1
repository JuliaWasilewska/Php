<!DOCTYPE html>
<html lang="">
<head>
    <title>Kalkulator finansowy</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1 {
            text-align: center;
        }

        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
        }

        .calculator {
            border: 1px solid #ccc;
            padding: 20px;
            width: 400px;
            background-color: #f5f5f5;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .calculator h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        form {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input[type="number"], select {
            width: 100%;
            padding: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        input[type="submit"] {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 3px;
        }

        .result {
            margin-top: 20px;
            text-align: center;
        }

        .result::before {
            content: "";
            display: inline-block;
            height: 10px;
            width: 10px;
            background-color: #4CAF50;
            border-radius: 50%;
            margin-right: 5px;
        }
    </style>
</head>
<body>
<h1>Kalkulator finansowy</h1>

<div class="container">
    <div class="calculator">
        <h2>Kalkulator kredytowy</h2>
        <form method="post" action="">
            <label for="amount">Kwota kredytu:</label>
            <input type="number" name="amount" id="amount" required>

            <label for="interest_rate">Oprocentowanie nominalne (%):</label>
            <input type="number" name="interest_rate" id="interest_rate" required>

            <label for="loan_period">Okres kredytowania (w latach):</label>
            <input type="number" name="loan_period" id="loan_period" required>

            <label for="payment_method">Sposób spłaty rat:</label>
            <select name="payment_method" id="payment_method" required>
                <option value="equal_installments">Równe raty</option>
                <option value="decreasing_installments">Malejące raty</option>
            </select>

            <input type="submit" name="calculate_loan" value="Oblicz">
        </form>

        <?php
        if (isset($_POST['calculate_loan'])) {
            $amount = $_POST['amount'];
            $interest_rate = $_POST['interest_rate'] / 100;
            $loan_period = $_POST['loan_period'];
            $payment_method = $_POST['payment_method'];

            if ($payment_method === 'equal_installments') {
                // Obliczanie równych rat
                $monthly_interest_rate = $interest_rate / 12;
                $num_payments = $loan_period * 12;
                $monthly_payment = ($amount * $monthly_interest_rate) / (1 - pow(1 + $monthly_interest_rate, -$num_payments));
                $total_payment = $monthly_payment * $num_payments;

                echo '<div class="result">';
                echo 'Miesięczna rata: ' . number_format($monthly_payment, 2) . ' PLN<br>';
                echo 'Całkowita kwota do spłaty: ' . number_format($total_payment, 2) . ' PLN';
                echo '</div>';
            } elseif ($payment_method === 'decreasing_installments') {
                // Obliczanie malejących rat
                $monthly_interest_rate = $interest_rate / 12;
                $num_payments = $loan_period * 12;
                $principal_payment = $amount / $num_payments;
                $total_payment = 0;

                echo '<div class="result">';
                echo 'Raty malejące:<br>';

                for ($i = 1; $i <= $num_payments; $i++) {
                    $interest_payment = $amount * $monthly_interest_rate;
                    $monthly_payment = $principal_payment + $interest_payment;
                    $amount -= $principal_payment;
                    $total_payment += $monthly_payment;

                    echo 'Rata ' . $i . ': ' . number_format($monthly_payment, 2) . ' PLN<br>';
                }

                echo 'Całkowita kwota do spłaty: ' . number_format($total_payment, 2) . ' PLN';
                echo '</div>';
            }
        }
        ?>
    </div>

    <div class="calculator">
        <h2>Kalkulator lokat</h2>
        <form method="post" action="">
            <label for="investment_amount">Kwota inwestycji:</label>
            <input type="number" name="investment_amount" id="investment_amount" required>

            <label for="interest_rate">Oprocentowanie nominalne (%):</label>
            <input type="number" name="interest_rate" id="interest_rate" required>

            <label for="compounding_period">Okres kapitalizacji (w miesiącach):</label>
            <input type="number" name="compounding_period" id="compounding_period" required>

            <label for="investment_period">Okres inwestycji (w latach):</label>
            <input type="number" name="investment_period" id="investment_period" required>

            <input type="submit" name="calculate_investment" value="Oblicz">
        </form>

        <?php
        if (isset($_POST['calculate_investment'])) {
            $investment_amount = $_POST['investment_amount'];
            $interest_rate = $_POST['interest_rate'] / 100;
            $compounding_period = $_POST['compounding_period'];
            $investment_period = $_POST['investment_period'];

            $num_compoundings = $investment_period * 12 / $compounding_period;
            $compound_interest = $investment_amount * pow(1 + ($interest_rate / $compounding_period), $num_compoundings);
            $total_value = round($compound_interest, 2);

            echo '<div class="result">';
            echo 'Przyszła wartość inwestycji: ' . number_format($total_value, 2) . ' PLN';
            echo '</div>';
        }
        ?>
    </div>
</div>

<div class="container">
    <div class="calculator">
        <h2>Kalkulator walutowy</h2>
        <form method="post" action="">
            <label for="amount">Kwota:</label>
            <input type="number" name="amount" id="amount" required>

            <label for="from_currency">Waluta z:</label>
            <select name="from_currency" id="from_currency" required>
                <option value="PLN">PLN</option>
                <option value="USD">USD</option>
                <option value="EUR">EUR</option>
                <!-- Dodaj inne dostępne waluty -->
            </select>

            <label for="to_currency">Waluta na:</label>
            <select name="to_currency" id="to_currency" required>
                <option value="PLN">PLN</option>
                <option value="USD">USD</option>
                <option value="EUR">EUR</option>
                <!-- Dodaj inne dostępne waluty -->
            </select>

            <input type="submit" name="calculate_currency" value="Przelicz">
        </form>

        <?php
        if (isset($_POST['calculate_currency'])) {
            $amount = $_POST['amount'];
            $from_currency = $_POST['from_currency'];
            $to_currency = $_POST['to_currency'];

            // Przeliczanie waluty
            // Tutaj umieść kod PHP odpowiedzialny za przeliczanie walut
            // Możesz skorzystać z zewnętrznego API lub własnego kodu przeliczającego

            echo '<div class="result">';
            echo 'Przeliczona kwota: ' . $amount . ' ' . $from_currency . ' = ??? ' . $to_currency;
            echo '</div>';
        }
        ?>
    </div>
</div>
</body>
</html>
